spring:
  datasource:
    url: jdbc:h2:mem:perfdb;MODE=MySQL;NON_KEYWORDS=YEAR,QUARTER;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    username: sa
    password:
    driver-class-name: org.h2.Driver
  jpa:
    hibernate:
      ddl-auto: validate
  flyway:
    enabled: true
    locations: classpath:db/migration-h2
    validate-on-migrate: false
  threads:
    virtual:
      enabled: ${SPRING_THREADS_VIRTUAL_ENABLED:false}
  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:}
  mail:
    host: ${PERF_SMTP_HOST:localhost}
    port: ${PERF_SMTP_PORT:2525}
    properties:
      mail:
        smtp:
          auth: false
          starttls:
            enable: false

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics

app:
  email:
    verification:
      skip: true
  file:
    upload:
      upload-dir: ${PERF_UPLOAD_DIR:/tmp/perf-upload}

turnstile:
  secret-key: perf-secret-key
  mock-allow-all: true

ai:
  server:
    url: ${AI_SERVER_URL:http://localhost:8080}
    mock:
      enabled: true
      latency-ms: ${AI_SERVER_MOCK_LATENCY_MS:120}
